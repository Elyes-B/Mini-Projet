<div class="container py-4">
    <div class="d-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Order #<?= $order_id ?> Details</h1>
        <span class="badge bg-primary rounded-pill"><?= count($products) ?> Items</span>
    </div>

    <?php if (empty($products)): ?>
        <div class="alert alert-info">No products found for this order.</div>
    <?php else: ?>
        <div class="row g-3">
            <?php foreach ($products as $product): ?>
                <div class="col-12">
                   <a href="product.php?id=<?= $product['product_id'] ?>" class="text-decoration-none">
                        
                        <button type="submit" class="btn p-0 border-0 text-start w-100 product-card">
                            <div class="card shadow-sm border-0 overflow-hidden">
                                <div class="row g-0 align-items-center">
                                    
                                    <div class="col-2 col-md-1 bg-light d-flex align-items-center justify-content-center p-2" style="min-height: 100px;">
                                        <img src="<?= $product['prd_image_url'] ?>" 
                                             class="img-fluid rounded" 
                                             alt="<?= $product['prd_name'] ?>"
                                             style="max-height: 80px; object-fit: contain;">
                                    </div>
                                    
                                    <div class="col-10 col-md-11">
                                        <div class="card-body py-2 px-3">
                                            <div class="row align-items-center">
                                                
                                                <div class="col-md-6">
                                                    <h6 class="mb-0 fw-bold text-dark"><?= $product['fab_name'] ?></h6>
                                                    <div class="d-flex gap-2 align-items-center">
                                                        <small class="text-muted">ID: <?= $product['product_id'] ?></small>
                                                        <span class="badge text-bg-light border fw-normal"><?= $product['cat_name'] ?></span>
                                                    </div>
                                                </div>

                                                <div class="col-md-3 text-md-center mt-2 mt-md-0">
                                                    <div class="text-muted small">Unit Price</div>
                                                    <span class="fw-semibold"><?= number_format($product['cd_price'], 2) ?> $</span>
                                                </div>

                                                <div class="col-md-1 text-md-center">
                                                    <div class="text-muted small">Qty</div>
                                                    <span>x<?= $product['cd_quantity'] ?></span>
                                                </div>

                                                <div class="col-md-2 text-end">
                                                    <div class="text-muted small">Subtotal</div>
                                                    <span class="h6 mb-0 fw-bold text-primary">
                                                        <?= number_format($product['cd_price'] * $product['cd_quantity'], 2) ?> $
                                                    </span>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </button>
                    </a>
                </div>
            <?php endforeach; ?>
        </div>
    <?php endif; ?>
</div>

<style>
    .product-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .product-card:hover {
        transform: translateY(-2px);
    }
    .product-card:hover .card {
        box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
        border-left: 4px solid #0d6efd;
    }
</style>